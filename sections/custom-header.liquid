<style>
  .custom-header {
    background: {{ section.settings.header_bg }};
    padding: 10px 23px;
    font-family: sans-serif;
  }

  .custom-header.sticky {
    position: relative;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  }
  
  .custom-header .header-inner,
  .inner-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
  }

  .custom-header .logo {
    width: 100px;
    max-width: 100%;
  }
  
  .custom-header .logo a {
    display: flex;
    justify-content: center;
  }

  .custom-header .logo img {
    max-height: 40px;
  }

  .custom-header .header-text {
    text-align: center;
    font-size: 16px;
    color: {{ section.settings.text_color }};
  }

  .custom-header .header-button {
    background: linear-gradient(to left, {{ section.settings.button_bg }} 50%, black 50%);
    background-size: 200% 100%;
    background-position: right bottom;
    padding: 11px 41px;
    text-decoration: none;
    font-size: 16px;
    font-weight: 400;
    text-transform: uppercase;
    color: {{ section.settings.button_text_color }};
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
    max-width: fit-content;
    line-height: normal;
    margin: 0;
    transition: background-position 0.3s ease, color 0.3s ease;
  }
  
  .custom-header .header-button svg path {
    transition: fill 0.3s ease;
  }
  
  .custom-header .header-button:hover {
    background-position: left bottom;
    color: white;
  }
  
  .custom-header .header-button:hover svg path {
    fill: white;
  }

  .custom-header .header-button svg {
    margin-left: 4px;
  }

  .custom-header .mobile-menu-toggle {
    display: none;
  }

  .custom-header .menu-button {
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
  }

  @media (max-width: 820px) {
    .custom-header.menu-opened .header-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .custom-header .sub-inner-container {
      display: flex;
      width: 100%;
    }

    .custom-header .header-text,
    .custom-header .header-button {
      display: none;
    }

    .custom-header.menu-opened .header-text {
      display: block;
    }
    
    .custom-header.menu-opened .header-button {
      display: flex;
    }

    .custom-header .header-inner {
      display: none;
    }

    .inner-container {
      flex-direction: column;
      align-items: center;
    }

    .custom-header .logo {
      margin: 10px 0;
      width: 100%;
      justify-content: center;
    }

    .custom-header .header-text {
      margin-bottom: 10px;
    }

    .custom-header .header-button {
      margin: 10px 0;
    }

    .custom-header .mobile-menu-toggle {
      display: flex;
      justify-content: space-between;
    }

    .custom-header #menu-close {
      display: none;
    }

    .custom-header.menu-opened #menu-open {
      display: none;
    }

    .custom-header.menu-opened #menu-close {
      display: inline-block;
    }
  }
</style>

<header class="custom-header">
  <div class="custom-container">
    <div class="inner-container">
      <div class="sub-inner-container">
        <div class="mobile-menu-toggle">
          <button id="menu-open" class="menu-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="13" viewBox="0 0 20 13" fill="none">
              <path d="M1 6.5H19" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M1 1.5H19" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M1 11.5H19" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button id="menu-close" class="menu-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
              <path d="M1 13.9997L13.7279 1.27177" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M1 1.00031L13.7279 13.7282" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="logo">
          {% if section.settings.logo %}
            <a href="/" title="Home">
              <img src="{{ section.settings.logo | image_url: width: 200 }}" alt="Logo">
            </a>
          {% endif %}
        </div>
      </div>
        <div class="header-text">{{ section.settings.center_text }}</div>
    
        <a href="{{ section.settings.button_link }}" class="header-button">
          {{ section.settings.button_text }}
          <svg xmlns="http://www.w3.org/2000/svg" width="31" height="12" viewBox="0 0 31 12" fill="none">
            <path d="M1.36377 4.80469L0.61377 4.80469L0.613769 6.30469L1.36377 6.30469L1.36377 4.80469ZM30.184 6.08502C30.4768 5.79213 30.4768 5.31725 30.184 5.02436L25.411 0.251388C25.1181 -0.0415052 24.6432 -0.0415052 24.3503 0.251388C24.0574 0.544282 24.0574 1.01916 24.3503 1.31205L28.593 5.55469L24.3503 9.79733C24.0574 10.0902 24.0574 10.5651 24.3503 10.858C24.6432 11.1509 25.1181 11.1509 25.411 10.858L30.184 6.08502ZM1.36377 6.30469L29.6536 6.30469L29.6536 4.80469L1.36377 4.80469L1.36377 6.30469Z" fill="black"/>
          </svg>
        </a>
    </div>
  </div>
</header>

<script>
  const header = document.querySelector('.custom-header');
  const openBtn = document.getElementById('menu-open');
  const closeBtn = document.getElementById('menu-close');

  openBtn?.addEventListener('click', () => header.classList.add('menu-opened'));
  closeBtn?.addEventListener('click', () => header.classList.remove('menu-opened'));

  window.addEventListener('scroll', () => {
    if (window.scrollY > 0) {
      header.classList.add('sticky');
    } else {
      header.classList.remove('sticky');
    }
  });
</script>

{% schema %}
  {
    "name": "Custom Header",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Logo"
      },
      {
        "type": "text",
        "id": "center_text",
        "label": "Center Text",
        "default": "Find the ideal gift for your loved ones."
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default": "CHOOSE GIFT"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button Link",
        "default": "/collections/all"
      },
      {
        "type": "color",
        "id": "header_bg",
        "label": "Header Background Color",
        "default": "#f9f9f9"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Center Text Color",
        "default": "#111111"
      },
      {
        "type": "color",
        "id": "button_bg",
        "label": "Button Background Color",
        "default": "#fff300"
      },
      {
        "type": "color",
        "id": "button_text_color",
        "label": "Button Text Color",
        "default": "#000000"
      }
    ]
  }
{% endschema %}